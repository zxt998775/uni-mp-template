{"version":3,"file":"index.js","sources":["../../../../../src/pages/index/index.vue","../../../../../uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"viewport\">\n    <!-- 自定义导航栏 -->\n    <CustomNavbar></CustomNavbar>\n    <!-- 滚动容器 -->\n    <scroll-view\n      refresher-enabled\n      @refresherrefresh=\"onRefresherrefresh\"\n      :refresher-triggered=\"isTriggered\"\n      scroll-y\n      @scrolltolower=\"onScrolltolower\"\n      class=\"scroll-view\"\n    >\n      <wSwiper :list=\"bannerList\"></wSwiper>\n      <!-- 商品分类 -->\n      <CategoryPanel :list=\"categoryList\" />\n      <!-- 热门推荐 -->\n      <HotPannel :list=\"hotList\" />\n      <!-- 猜你喜欢 -->\n      <Guess ref=\"guessRef\" />\n    </scroll-view>\n  </view>\n</template>\n<script lang=\"ts\" setup>\n// @ts-nocheck\nimport CustomNavbar from './components/CustomNavbar'\nimport CategoryPanel from './components/CategoryPanel'\nimport HotPannel from './components/HotPannel'\nimport type { GuessInstance } from '@/types/components'\nimport Guess from '@/components/Guess/Guess'\nimport PageSkeleton from './components/Pageskeleton'\n// 获取轮播图\nconst bannerList = ref<BannerItem[]>([])\n\nconst getHomeBannerData = async () => {\n  const res = await getHomeBannerAPI()\n  bannerList.value = res.result\n}\n\n// 获取分类数据\nconst categoryList = ref<CategoryItem[]>([])\nconst getHomeCategoryData = async () => {\n  const res = await getHomeCategoryAPI()\n  categoryList.value = res.result\n}\n// 获取热门推荐数据\nconst hotList = ref([])\nconst getHomeHotData = async () => {\n  const res = await getHomeHotAPI()\n  hotList.value = res.result\n}\n\n// 是否加载中标记\nconst isLoading = ref(false)\nonLoad(async () => {\n  isLoading.value = true\n  await Promise.all([getHomeBannerData(), getHomeCategoryData(), getHomeHotData()])\n  isLoading.value = false\n})\n\n// 获取猜你喜欢组件实例\nconst guessRef = ref<GuessInstance>()\n// 滚动触底事件\nconst onScrolltolower = () => {\n  guessRef.value?.getMore()\n}\n\n// 下拉刷新状态\nconst isTriggered = ref(false)\n// 自定义下拉刷新被触发\nconst onRefresherrefresh = async () => {\n  // 开启动画\n  isTriggered.value = true\n  // 重置猜你喜欢组件数据\n  guessRef.value?.resetData() // 加载数据\n  await Promise.all([getHomeBannerData(), getHomeCategoryData(), getHomeHotData()]) // 关闭动画\n  isTriggered.value = false\n}\n</script>\n<style lang=\"scss\">\npage {\n  background-color: #f7f7f7;\n  height: 100%;\n  overflow: hidden;\n}\n/* 设置滚动区高度 */\n.viewport {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.scroll-view {\n  flex: 1;\n  overflow: hidden;\n}\n</style>\n","import MiniProgramPage from 'D:/应用开发/前端/shop-online/uni-mp-template-own/src/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getHomeBannerAPI","getHomeCategoryAPI","getHomeHotAPI","onLoad"],"mappings":";;;;;;;;;;;;;;AAyBA,MAAA,eAAyB,MAAA;AACzB,MAAA,gBAA0B,MAAA;AAC1B,MAAA,YAAsB,MAAA;AAEtB,MAAA,QAAkB,MAAA;;;;AAGZ,UAAA,aAAaA,kBAAkB,CAAA,CAAE;AAEvC,UAAM,oBAAoB,YAAY;AAC9B,YAAA,MAAM,MAAMC,aAAAA;AAClB,iBAAW,QAAQ,IAAI;AAAA,IAAA;AAInB,UAAA,eAAeD,kBAAoB,CAAA,CAAE;AAC3C,UAAM,sBAAsB,YAAY;AAChC,YAAA,MAAM,MAAME,aAAAA;AAClB,mBAAa,QAAQ,IAAI;AAAA,IAAA;AAGrB,UAAA,UAAUF,kBAAI,CAAA,CAAE;AACtB,UAAM,iBAAiB,YAAY;AAC3B,YAAA,MAAM,MAAMG,aAAAA;AAClB,cAAQ,QAAQ,IAAI;AAAA,IAAA;AAIhB,UAAA,YAAYH,kBAAI,KAAK;AAC3BI,kBAAAA,OAAO,YAAY;AACjB,gBAAU,QAAQ;AACZ,YAAA,QAAQ,IAAI,CAAC,kBAAA,GAAqB,uBAAuB,eAAgB,CAAA,CAAC;AAChF,gBAAU,QAAQ;AAAA,IAAA,CACnB;AAGD,UAAM,WAAWJ,cAAAA;AAEjB,UAAM,kBAAkB,MAAM;;AAC5B,qBAAS,UAAT,mBAAgB;AAAA,IAAQ;AAIpB,UAAA,cAAcA,kBAAI,KAAK;AAE7B,UAAM,qBAAqB,YAAY;;AAErC,kBAAY,QAAQ;AAEpB,qBAAS,UAAT,mBAAgB;AACV,YAAA,QAAQ,IAAI,CAAC,kBAAA,GAAqB,uBAAuB,eAAgB,CAAA,CAAC;AAChF,kBAAY,QAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;AC3EtB,GAAG,WAAW,eAAe;"}